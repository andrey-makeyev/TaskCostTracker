<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<th:block th:include="fragments/base :: head"></th:block>
<body>

<th:block th:include="fragments/base :: navbar"></th:block>

<div class="container mt-5">
    <h1>Completed Task List Over a Period of Time</h1>
    <form th:action="@{/tasks/completed-in-range}" method="post" th:object="${dateRangeForm}">
        <div class="form-row">
            <div class="form-group col-md-6">
                <label for="startDate">Start Date</label>
                <input class="datepicker form-control" id="startDate" name="startDate" th:required="required"
                       th:value="${startDate}">
                <span th:if="${#fields.hasErrors('startDate')}" th:errors="*{startDate}" class="text-danger"></span>
            </div>
            <div class="form-group col-md-6">
                <label for="endDate">End Date</label>
                <input class="datepicker form-control" id="endDate" name="endDate" th:required="required"
                       th:value="${endDate}">
                <span th:if="${#fields.hasErrors('endDate')}" th:errors="*{endDate}" class="text-danger"></span>
            </div>
        </div>
        <button type="submit" class="btn btn-lg btn-success">Get Completed Tasks</button>
    </form>
</div>
<div class="container mt-5">
    <table class="table table-striped table-success">
        <thead>
        <tr>
            <th>Task Number</th>
            <th>Description</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="task : ${completedTasks}">
            <td th:text="${task.id}"></td>
            <td th:text="${task.description}"></td>
            <td th:text="${task.cost}"></td>
            <td th:text="${task.status}"></td>
            <td th:text="${task.completionDate}"></td>
        </tr>
        </tbody>
    </table>
</div>

<th:block th:include="fragments/base :: footer"></th:block>

</body>
</html>